var $=jQuery.noConflict();$(document).ready(function(t){t("body").tooltip({selector:".cfmsync-tooltip"});var e=new ClipboardJS(".clipboard");e.on("success",function(e){var n=t(e.trigger).data("clipboard-response");cfmsync_toaster("success",n),e.clearSelection()}),e.on("error",function(t){cfmsync_toaster("error","Clipboard error."),t.clearSelection()}),t(".dropdown-menu").on("click",".dropdown-item",function(){t(this).closest(".dropdown-sort").find(".dropdown-toggle").text(t(this).text()+" "),t(this).closest(".dropdown-menu").prev().dropdown("toggle")}),t(".dropdown-search input[type=search]").on("input",function(){var e=t(this).val().toLowerCase();t(this).closest(".dropdown-menu").find(".dropdown-item").filter(function(){t(this).toggle(t(this).text().toLowerCase().indexOf(e)>-1)})}),t(".dropdown-checkbox, .dropdown-search").on("click",function(t){t.stopPropagation()}),t(document).on("click","#cfm-save-settings",function(e){e.preventDefault();var n=t(this),o=n.closest("form").serializeArray();t.ajax({url:cfmsync.ajaxurl,type:"post",data:{action:"save-settings",form_data:o,_nonce:cfmsync.ajaxnonce},beforeSend:function(t){n.prop("disabled",!0),n.html('<i class="fas fa-spinner fa-spin me-2"></i> Saving settings...')},success:function(t){"success"==t?cfmsync_toaster("success","Settings saved successfully."):cfmsync_toaster("error",t),n.prop("disabled",!1),n.html('Save Settings <i class="fal fa-cog ms-2"></i>')}}),e.preventDefault()}),t(document).on("keyup","input[name=archive_slug], input[name=single_slug], input[name=category_archive_slug], input[name=tag_archive_slug]",function(e){t(this).val(cfm_convert_to_slug(t(this).val()))}),t("#confirmation-modal").on("show.bs.modal",function(e){var n=t(e.relatedTarget),o=n.data("confirmation-title"),a=n.data("confirmation-content"),s=n.data("confirmation-button"),c=n.data("confirmation-button-text"),i=n.data("confirmation-reference"),r=n.data("confirmation-nonce"),d=t(this);d.find(".modal-title").text(o),d.find(".modal-body p").text(a),d.find(".modal-footer .modal-confirm").prop("id",s),d.find(".modal-footer .modal-confirm").text(c),d.find(".modal-footer .modal-confirm").attr("data-reference",i),d.find(".modal-footer .modal-confirm").attr("data-nonce",r)}),t("#confirmation-modal").on("hidden.bs.modal",function(e){var n=t(this);n.find(".modal-title").text(""),n.find(".modal-body p").text(""),n.find(".modal-footer .modal-confirm").removeAttr("id"),n.find(".modal-footer .modal-confirm").text("Confirm"),n.find(".modal-footer .modal-confirm").removeAttr("data-reference"),n.find(".modal-footer .modal-confirm").removeAttr("data-nonce")}),t(document).on("click",".cfm-display-show-settings",function(e){e.preventDefault();var n=t(this).attr("data-reference");t("#cfm-save-show-settings").attr("data-reference",n),t.ajax({url:cfmsync.ajaxurl,type:"post",data:{action:"load-show-settings",show_id:n,_nonce:cfmsync.ajaxnonce},beforeSend:function(){t("#cfm-show-settings").html(cfm_content_spinner)},success:function(e){t("#cfm-show-settings").html(e)}}),e.preventDefault()}),t(document).on("click","#cfm-save-show-settings",function(e){e.preventDefault();var n=t(this),o=n.attr("data-reference"),a=t("input[name=use_artwork]:checked").val(),s=t("input[name=se_num]:checked").val(),c=t("input[name=se_num_text]").val(),i=t("input[name=bonus_trailer_text]").val();t.ajax({url:cfmsync.ajaxurl,type:"post",data:{action:"save-show-settings",show_id:o,use_artwork:a,se_num:s,se_num_text:c,bonus_trailer_text:i,_nonce:cfmsync.ajaxnonce},beforeSend:function(){n.prop("disabled",!0),n.html('<i class="fas fa-spinner fa-spin me-2"></i> Saving podcast settings...')},success:function(e){"success"==e?cfmsync_toaster("success","Podcasts settings saved successfully."):cfmsync_toaster("error",e),n.html("Save Podcast Settings"),n.prop("disabled",!1),t("#cfm-show-settings-modal").modal("hide")}}),e.preventDefault()})});